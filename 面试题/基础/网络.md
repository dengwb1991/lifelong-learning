## 一、OSI 7层模型和TCP/IP 4层模型

### OSI 7层模型

应用层: 为应用程序提供网络服务。HTTP、TFTP、FTP、NFS、WAIS、SMTP

表示层: 数据格式化加密、解密。Telnet、Rlogin、SNMP、Gopher

会话层: 建立、维护、管理会话链接。SMTP、DNS

传输层: 建立、维护、管理端到端的链接。TCP、UDP

网络层: IP寻址和路由选择。IP ICMP ARP RARP AKP UUCP

数据链路层: 控制网络层和物理层之间通讯。 FDDI Ethernet Arpanet PDN SLIP PPP

物理层: 比特流传输。 IEEE 802.1A

### TCP/IP 4层模型

应用层、传输层、网络层、数据链路层

应用层包括:

1. 超文本传输协议（HTTP）:万维网的基本协议；
2. 文件传输（TFTP简单文件传输协议）；
3. 远程登录（Telnet），提供远程访问其它主机功能, 它允许用户登录internet主机，并在这台主机上执行命令；
4. 网络管理（SNMP简单网络管理协议），该协议提供了监控网络设备的方法， 以及配置管理,统计信息收集,性能管理及安全管理等；
5. 域名系统（DNS），该系统用于在internet中将域名及其公共广播的网络节点转换成IP地址。

网络层包括:

1. Internet协议（IP）；
2. Internet控制信息协议（ICMP）；
3. 地址解析协议（ARP）；
4. 反向地址解析协议（RARP）。

## 二、TCP三次握手和四次挥手

### 三次握手

第一次握手：主机A通过向主机B 发送一个含有同步序列号的标志位的数据段给主机B，向主机B 请求建立连接，通过这个数据段， 主机A告诉主机B 两件事：我想要和你通信；你可以用哪个序列号作为起始数据段来回应我。

第二次握手：主机B 收到主机A的请求后，用一个带有确认应答（ACK）和同步序列号（SYN）标志位的数据段响应主机A，也告诉主机A两件事：我已经收到你的请求了，你可以传输数据了；你要用那个序列号作为起始数据段来回应我

第三次握手：主机A收到这个数据段后，再发送一个确认应答，确认已收到主机B 的数据段："我已收到回复，我现在要开始传输实际数据了，这样3次握手就完成了，主机A和主机B 就可以传输数据了。

### 四次挥手

第一次： 当主机A完成数据传输后,将控制位FIN置1，提出停止TCP连接的请求 ；

第二次： 主机B收到FIN后对其作出响应，确认这一方向上的TCP连接将关闭,将ACK置1；

第三次： 由B 端再提出反方向的关闭请求,将FIN置1 ；

第四次： 主机A对主机B的请求进行确认，将ACK置1，双方向的关闭结束.

## 三、SSL/TLS协议运行机制

在没有 SSL/TLS 加密通讯时，HTTP通讯会有以下三种风险

1. 窃听风险 第三方可以获知通信内容。
2. 篡改风险 第三方可以修改通信内容。
3. 冒充风险 第三方可以冒充他人身份参与通信。

SSL/TLS协议是为了解决这三大风险而设计的，希望达到：

1. 所有信息都是加密传播，第三方无法窃听。
2. 具有校验机制，一旦被篡改，通信双方会立刻发现。
3. 配备身份证书，防止身份被冒充。

